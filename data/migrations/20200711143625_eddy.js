exports.up = function (knex) {
  return (
    knex.schema
      // .createTable("organizations", (t) => {
      //   t.string("uid", 50).primary().unique()
      //   t.string("name", 128)
      //   t.varchar("workspace", 200).unique()
      //   t.varchar("email", 200).unique().notNullable()
      //   t.string("subscription", 50).defaultTo("Free")
      //   t.varchar("stripe_id", 128).unique()
      //   t.timestamp("created_at").defaultTo(knex.fn.now())
      // })
      .createTable("users", (t) => {
        t.string("uid", 128).primary().unique()
        t.string("firstName", 128).notNullable()
        t.string("lastName", 128).notNullable()
        t.varchar("email", 128).unique().notNullable()
        t.string("role", 50).notNullable().defaultTo("user")
        t.boolean("is_employed").defaultTo(true)
        // t.string("FK_organization")
        //   .notNullable()
        //   .references("uid")
        //   .inTable("organizations")
        //   .onUpdate("CASCADE")
        //   .onDelete("RESTRICT")
        t.timestamp("created_at").defaultTo(knex.fn.now())
      })
  )
  // .createTable("devices", (t) => {
  //   t.uuid("id").unsigned().primary().unique()
  //   t.string("model", 128).notNullable()
  //   t.varchar("serial", 128).unique().notNullable()
  //   t.varchar("os", 255).notNullable()
  //   t.string("brand", 128).notNullable()
  //   t.string("FK_organization")
  //     .notNullable()
  //     .references("uid")
  //     .inTable("organizations")
  //     .onUpdate("CASCADE")
  //     .onDelete("RESTRICT")
  //   t.string("FK_user")
  //     .references("uid")
  //     .inTable("users")
  //     .onUpdate("CASCADE")
  //     .onDelete("RESTRICT")
  //   t.boolean("is_assigned").defaultTo(false)
  //   t.timestamp("created_at").defaultTo(knex.fn.now())
  // })
  // .createTable("requests", (t) => {
  //   t.uuid("id").unsigned().primary().unique()
  //   t.string("device_model", 128).notNullable()
  //   t.varchar("body", 500)
  //   t.boolean("is_open").defaultTo(true)
  //   t.string("FK_user")
  //     .notNullable()
  //     .references("uid")
  //     .inTable("users")
  //     .onUpdate("CASCADE")
  //     .onDelete("RESTRICT")
  //   t.timestamp("created_at").defaultTo(knex.fn.now())
  // })
  // .createTable("logs", (t) => {
  //   t.uuid("id").unsigned().primary().unique()
  //   t.varchar("description", 500).notNullable()
  //   t.uuid("FK_device")
  //     .unsigned()
  //     .notNullable()
  //     .references("id")
  //     .inTable("devices")
  //     .onUpdate("CASCADE")
  //     .onDelete("RESTRICT")
  //   t.string("FK_user")
  //     .notNullable()
  //     .references("uid")
  //     .inTable("users")
  //     .onUpdate("CASCADE")
  //     .onDelete("RESTRICT")
  //   t.timestamp("created_at").defaultTo(knex.fn.now())
  // })
}

exports.down = function (knex) {
  return (
    knex.schema
      // .dropTableIfExists("logs")
      // .dropTableIfExists("requests")
      // .dropTableIfExists("devices")
      .dropTableIfExists("users")
  )
  // .dropTableIfExists("teams")
  // .dropTableIfExists("organizations")
}
